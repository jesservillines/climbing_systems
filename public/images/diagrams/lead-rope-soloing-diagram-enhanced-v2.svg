<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 900" width="800" height="900">
  <!-- Background -->
  <rect width="100%" height="800" fill="#f0ece3" />
  <rect y="800" width="100%" height="100" fill="#a67c52" />
  
  <!-- Climber Path - Dashed line -->
  <path d="M400,150 L400,830" stroke="white" stroke-width="6" stroke-dasharray="10,10" stroke-linecap="round" />
  
  <!-- Rope lines and protection pieces -->
  <!-- Green Load Strand -->
  <path d="M400,830 C390,750 405,690 400,650 C395,610 385,580 400,550 C415,520 425,490 400,450 C375,410 365,390 385,345 C405,300 415,270 390,230 C375,200 370,170 400,150" stroke="#27ae60" stroke-width="12" fill="none" stroke-linecap="round" />
  
  <!-- Red Brake Strand -->
  <path d="M400,520 C420,540 440,550 470,520 M470,520 C490,500 500,510 520,530" stroke="#e74c3c" stroke-width="8" fill="none" stroke-linecap="round" />
  
  <!-- Yellow Protection Pieces -->
  <circle cx="400" cy="555" r="12" fill="#f1c40f" stroke="#f39c12" stroke-width="2" />
  <circle cx="390" cy="480" r="12" fill="#f1c40f" stroke="#f39c12" stroke-width="2" />
  <circle cx="385" cy="380" r="12" fill="#f1c40f" stroke="#f39c12" stroke-width="2" />
  <circle cx="395" cy="300" r="12" fill="#f1c40f" stroke="#f39c12" stroke-width="2" />
  
  <!-- Climber Figures -->
  <!-- Base figure -->
  <g transform="translate(365, 520)">
    <rect x="0" y="0" width="70" height="30" rx="15" ry="15" fill="#3498db" />
    <circle cx="35" cy="-20" r="20" fill="#3498db" />
    <rect x="25" y="-5" width="20" height="40" fill="#3498db" />
    <line x1="25" y1="15" x2="10" y2="40" stroke="#3498db" stroke-width="10" stroke-linecap="round" />
    <line x1="45" y1="15" x2="60" y2="40" stroke="#3498db" stroke-width="10" stroke-linecap="round" />
  </g>
  
  <!-- GriGri Device -->
  <g transform="translate(400, 505)">
    <circle cx="0" cy="0" r="15" fill="#e67e22" stroke="#d35400" stroke-width="2" />
    <path d="M-8,-8 L8,8 M-8,8 L8,-8" stroke="white" stroke-width="3" stroke-linecap="round" />
  </g>
  
  <!-- Rope Bag -->
  <g transform="translate(400, 590)">
    <rect x="-25" y="-15" width="50" height="30" rx="5" ry="5" fill="#8e44ad" stroke="#7d3c98" stroke-width="2" />
    <path d="M-10,-15 L-10,-25 M10,-15 L10,-25" stroke="#7d3c98" stroke-width="2" />
  </g>
  
  <!-- Anchors -->
  <!-- Bottom Anchor -->
  <g transform="translate(400, 830)">
    <rect x="-50" y="-25" width="100" height="50" rx="5" ry="5" fill="#7f8c8d" stroke="#2c3e50" stroke-width="2" />
    <text x="0" y="5" text-anchor="middle" class="info-box-title">ANCHOR</text>
  </g>
  
  <!-- Top Anchor -->
  <g transform="translate(400, 150)">
    <rect x="-50" y="-25" width="100" height="50" rx="5" ry="5" fill="#7f8c8d" stroke="#2c3e50" stroke-width="2" />
    <text x="0" y="5" text-anchor="middle" class="info-box-title">TOP ANCHOR</text>
  </g>
  
  <!-- Information Boxes -->
  <!-- Fall Management Box -->
  <g transform="translate(615, 400)">
    <rect x="-120" y="-80" width="240" height="160" rx="10" ry="10" fill="rgba(44, 62, 80, 0.9)" stroke="#2c3e50" stroke-width="2" />
    <text x="0" y="-55" text-anchor="middle" fill="white" font-weight="bold" font-size="16">DURING A FALL</text>
    <text x="-110" y="-25" fill="white">• GriGri will lock automatically</text>
    <text x="-110" y="0" fill="white">• You'll fall twice the slack distance</text>
    <text x="-110" y="25" fill="white">• Backup knots prevent catastrophic failure</text>
    <text x="-110" y="50" fill="white">• Get hand on brake strand immediately</text>
    <text x="-110" y="75" fill="white">• Tie off rope if needed before continuing</text>
  </g>
  
  <!-- Multi-pitch Box -->
  <g transform="translate(170, 300)">
    <rect x="-120" y="-75" width="240" height="150" rx="10" ry="10" fill="rgba(44, 62, 80, 0.9)" stroke="#2c3e50" stroke-width="2" />
    <text x="0" y="-50" text-anchor="middle" fill="white" font-weight="bold" font-size="16">MULTI-PITCH TRANSITION</text>
    <text x="-110" y="-20" fill="white">1. Fix rope at top anchor (redundantly)</text>
    <text x="-110" y="5" fill="white">2. Remove self-belay device, setup rappel</text>
    <text x="-110" y="30" fill="white">3. Rappel while cleaning gear</text>
    <text x="-110" y="55" fill="white">4. Setup ascenders, jumar back up</text>
    <text x="-110" y="80" fill="white">5. Repeat for next pitch</text>
  </g>
  
  <!-- Explanatory text with backgrounds -->
  <g>
    <!-- Chest harness info -->
    <rect x="150" y="480" width="240" height="50" rx="5" ry="5" class="info-box" />
    <text x="160" y="500" class="diagram-text">Chest harness keeps</text>
    <text x="160" y="518" class="diagram-text">GriGri properly oriented,</text>
    <text x="160" y="536" class="diagram-text">GriGri flipped upside-down</text>
    <text x="160" y="554" class="diagram-text">from normal operation</text>
  </g>
  
  <g>
    <!-- Backup knot info -->
    <rect x="180" y="550" width="240" height="50" rx="5" ry="5" class="info-box" />
    <text x="190" y="570" class="diagram-text">Backup knot D</text>
    <text x="190" y="588" class="diagram-text">Runs from device's 'brake side'</text>
    <text x="190" y="606" class="diagram-text">to separate gear loop</text>
  </g>
  
  <g>
    <!-- Backup knots clipped info -->
    <rect x="185" y="610" width="240" height="50" rx="5" ry="5" class="info-box" />
    <text x="195" y="630" class="diagram-text">Backup knots clipped</text>
    <text x="195" y="648" class="diagram-text">to different</text>
    <text x="195" y="666" class="diagram-text">harness gear loops</text>
  </g>
  
  <g>
    <!-- Anchor info -->
    <rect x="170" y="680" width="240" height="50" rx="5" ry="5" class="info-box" />
    <text x="180" y="700" class="diagram-text">Multi-directional anchor</text>
    <text x="180" y="718" class="diagram-text">must hold upward pulls</text>
  </g>
  
  <!-- START HERE label -->
  <text x="400" y="870" text-anchor="middle" font-weight="bold" font-size="18" fill="white" style="filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.5));">START HERE</text>
  
  <!-- First Protection info -->
  <rect x="410" y="512" width="150" height="55" rx="5" ry="5" class="info-box" />
  <text x="415" y="532" class="diagram-text">First piece reduces</text>
  <text x="415" y="550" class="diagram-text">potential factor-2 fall danger</text>
  <text x="415" y="568" class="diagram-text">("Jesus Piece")</text>
  
  <!-- Safety Warning Box -->
  <g transform="translate(400, 770)">
    <rect x="-185" y="-60" width="370" height="120" rx="5" ry="5" fill="rgba(231, 76, 60, 0.8)" stroke="#c0392b" stroke-width="2" />
    <text x="0" y="-35" text-anchor="middle" fill="white" font-weight="bold" font-size="18">CRITICAL SAFETY WARNING</text>
    <text x="-175" y="-5" fill="white" font-size="14">Device orientation is critical - incorrect setup</text>
    <text x="-175" y="20" fill="white" font-size="14">WILL NOT catch a fall and could be fatal.</text>
    <text x="-175" y="45" fill="white" font-size="14">Always test near ground before committing.</text>
  </g>
  
  <!-- Strand Labels -->
  <text x="530" y="570" font-size="16" font-weight="bold" fill="#e74c3c" class="diagram-label">BRAKE STRAND</text>
  <text x="530" y="620" font-size="12" fill="#444" class="diagram-text">Figure-8 on a bight or overhand bight</text>
  <text x="530" y="638" fill="#444" class="diagram-text">every 5-10 meters on the 'brake side'</text>
  
  <!-- Up Arrow -->
  <path d="M400,60 L400,100 M385,75 L400,60 L415,75" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
</svg>
